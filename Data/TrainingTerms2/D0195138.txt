#九/nz度/qvOJ/nz-题目/nz1366/nz：/w栈/gi的/ude1压入/nz、/w弹出/vf序列/gi
题目/gi链接/gi地址/gi：/w题目/gi描述/gi：/w输入/v两/nz个/q整数/gi序列/gi，/w第一个/gi序列/gi表示/v栈/gi的/ude1压入/nz顺序/gi，/w请/v判断/gi第二个/nz序列/gi是否/v为/p该栈/nz的/ude1弹出/vf顺序/gi。/w假设/gi压/v入栈/nz的/ude1所有/b数字/gi均/d不/d相等/vi。/w例如/v序列/gi1/nz,/nz2/nz,/nz3/nz,/nz4/nz,/nz5/nz是/vshi某栈/nz的/ude1压入/nz顺序/gi，/w序列/gi4/nz，/w5/nz,/nz3/nz,/nz2/nz,/nz1/nz是/vshi该/rz压栈/nz序列/gi对应/vi的/ude1一个/mq弹出/vf序列/gi，/w但/c4/nz,/nz3/nz,/nz5/nz,/nz1/nz,/nz2/nz就/d不/d可能/v是/vshi该/rz压栈/nz序列/gi的/ude1弹出/vf序列/gi。/w输入/v：/w每个/r测试/gi案例/gi包括/v3/nz行/ng：/w第一/mq行为/n1/nz个/q整数/gin/nz(/nz1/nz=/nzn/nz=/nz100000/nz)/nz，/w表示/v序列/gi的/ude1长度/gi。/w第二行/nz包含/vn/nz个/q整数/gi，/w表示/v栈/gi的/ude1压入/nz顺序/gi。/w第三行/nz包含/vn/nz个/q整数/gi，/w表示/v栈/gi的/ude1弹出/vf顺序/gi。/w输出/gi：/w对应/vi每个/r测试/gi案例/gi，/w如果/c第二个/nz序列/gi是/vshi第一个/gi序列/gi的/ude1弹出/vf序列/gi输出/giyes/nz，/w否则/c输出/gino/nz。/w样例/nz输入/v：/w51/nz /x2/nz /x3/nz /x4/nz /x54/nz /x5/nz /x3/nz /x2/nz /x151/nz /x2/nz /x3/nz /x4/nz /x54/nz /x3/nz /x5/nz /x1/nz /x2/nz样例/nz输出/gi：/wyesno/nz解题/gi思路/gi：/w开始/v看到/v这/rzv道/qv题/n的/ude1时候/n，/w我/rr的/ude1想法/gi是/vshi如果/c弹出/vf序列/gi中的/v部分/n子序列/nz与/cc压入/nz序列/gi中的/v部分/n子序列/nz相同/a，/w就/d认为/v弹出/vf序列/gi不/d合法/a。/w显然/ad这种/r想法/gi是/vshi错误/gi的/ude1 /xr/nz(/nzst/nz)/nzq/nz想/v了/ule很久/d也/d想不到/vl解法/gi，/w只能/v求助/v范神/nz了/ule。/w大神/nz就是/v不/d一样/uyy，/w分分钟/n就/d给出/v了/ule算法/gi。/w该/rz算法/gi的/ude1大致/d思想/gi是/vshi通过/p压入/nz序列/gi和/cc弹出/vf序列/gi来/vf动态/gi地/ude2模拟栈/nz的/ude1压入/nz和/cc弹出/vf过程/gi，/w在/p模拟/gi操作/gi结束/v后/f，/w如果/c栈/gi为/p空/ng则/d可以/v认为/v弹出/vf序列/gi是/vshi合法/a的/ude1，/w否则/c就/d认为/v弹出/vf序列/gi不/d合法/a。/w下面/f介绍/gi一下/m算法/gi的/ude1具体/a流程/gi：/w（/w1/nz）/w /x依次/d遍历/gi压入/nz序列/gi和/cc弹出/vf序列/gi；/w（/w2/nz）/w /x先/d将/d被/pbei遍历/gi的/ude1压入/nz序列/gi元素/gi压入/nz到/v数据栈/nz中/f，/w如果/c当前/t被/pbei遍历/gi的/ude1压入/nz序列/gi元素/gi等于/v当前/t被/pbei遍历/gi的/ude1弹出/vf序列/gi元素/gi，/w则/d停止/gi压入/nz操作/gi，/w否则/c接着/c遍历/gi压入/nz序列/gi的/ude1下一个/nz元素/gi；/w（/w3/nz）/w /x如果/c数据栈/nz的/ude1栈顶/nz元素/gi与/cc当前/t被/pbei遍历/gi的/ude1弹出/vf序列/gi元素/gi相同/a，/w则/d弹出/vf数据栈/nz的/ude1栈顶/nz元素/gi，/w接着/c遍历/gi弹出/vf序列/gi中的/v下一个/nz元素/gi；/w（/w4/nz）/w /x重复/gi执行/v（/w1/nz）/w，/w（/w2/nz）/w，/w（/w3/nz）/w，/w当/p遍历/gi完/vi压入/nz序列/gi或/c弹出/vf序列/gi后/f，/w停止/gi遍历/gi操作/gi。/w此时/r如果/c数据/gi栈为空/nz，/w则/d证明/v弹出/vf序列/gi是/vshi合法/a的/ude1；/w否则/c证明/v弹出/vf序列/gi是/vshi不/d合法/a的/ude1。/w以第/nz1/nz个/q测试用例/gi为/p例/n：/w压入/nz序列/gi为/p：/w1/nz /x2/nz /x3/nz /x4/nz /x5/nz弹出/vf序列/gi为/p：/w4/nz /x5/nz /x3/nz /x2/nz /x1/nz模拟/gi压入/nz和/cc弹出/vf操作/gi的/ude1过程/gi如下/vi所示/nz：/w1/nz）/w /x压入/nz元素/gi1/nz，/w2/nz，/w3/nz与/cc弹出/vf元素/gi4/nz不/d相等/vi，/w将/d1/nz,/nz /x2/nz,/nz /x3/nz依次/d压入/nz到/v数据栈/nz中/f，/w将/d4/nz压入/nz数据栈/nz后/f发现/v4/nz与/cc弹出/vf序列/gi中的/v第一个/gi元素/gi4/nz相等/vi，/w暂停/v压入/nz操作/gi，/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi4/nz；/w2/nz）/w /x因为/c数据/gi栈栈/nz顶/v元素/gi4/nz与/cc弹出/vf序列/gi中的/v第一个/gi元素/gi4/nz相等/vi，/w所以/c弹出/vf数据栈/nz的/ude1栈顶/nz元素/gi4/nz，/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi3/nz，/w弹出/vf序列/gi中/f被/pbei遍历/gi的/ude1元素/gi是/vshi5/nz，/w二者/rzv不/d相等/vi，/w所以/c将/d压入/nz序列/gi中的/v元素/gi5/nz压入/nz到/v栈/gi中/f；/w3/nz）/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi5/nz，/w弹出/vf序列/gi中/f被/pbei遍历/gi的/ude1元素/gi是/vshi5/nz，/w二者/rzv相等/vi，/w所以/c将/d数据栈/nz的/ude1栈顶/nz元素/gi5/nz弹出/vf；/w4/nz）/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi3/nz，/w弹出/vf序列/gi中/f被/pbei遍历/gi的/ude1元素/gi是/vshi3/nz，/w二者/rzv相等/vi，/w所以/c将/d数据栈/nz的/ude1栈顶/nz元素/gi3/nz弹出/vf；/w5/nz）/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi2/nz，/w弹出/vf序列/gi中/f被/pbei遍历/gi的/ude1元素/gi是/vshi2/nz，/w二者/rzv相等/vi，/w所以/c将/d数据栈/nz的/ude1栈顶/nz元素/gi2/nz弹出/vf；/w6/nz）/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi1/nz，/w弹出/vf序列/gi中/f被/pbei遍历/gi的/ude1元素/gi是/vshi1/nz，/w二者/rzv相等/vi，/w所以/c将/d数据栈/nz的/ude1栈顶/nz元素/gi1/nz弹出/vf；/w7/nz）/w此时/r压入/nz序列/gi和/cc弹出/vf序列/gi都/d已经/d被/pbei遍历/gi完了/vi，/w而/cc数据/gi栈为空/nz，/w所以/c可以/v证明/v弹出/vf序列/gi是/vshi合法/a的/ude1。/w以第/nz2/nz个/q测试用例/gi为/p例/n：/w压入/nz序列/gi为/p：/w1/nz  /x2/nz  /x3/nz  /x4/nz  /x5/nz弹出/vf序列/gi为/p：/w4/nz  /x3/nz  /x5/nz  /x1/nz  /x2/nz模拟/gi压入/nz和/cc弹出/vf操作/gi的/ude1过程/gi如下/vi所示/nz：/w1/nz）/w压入/nz元素/gi1/nz，/w2/nz，/w3/nz与/cc弹出/vf元素/gi4/nz不/d相等/vi，/w将/d1/nz,/nz /x2/nz,/nz /x3/nz依次/d压入/nz到/v数据栈/nz中/f，/w将/d4/nz压入/nz数据栈/nz后/f发现/v4/nz与/cc弹出/vf序列/gi中的/v第一个/gi元素/gi4/nz相等/vi，/w暂停/v压入/nz操作/gi，/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi4/nz；/w2/nz）/w因为/c数据/gi栈栈/nz顶/v元素/gi4/nz与/cc弹出/vf序列/gi中的/v第一个/gi元素/gi4/nz相等/vi，/w所以/c弹出/vf数据栈/nz的/ude1栈顶/nz元素/gi4/nz，/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi3/nz；/w3/nz）/w因为/c数据/gi栈栈/nz顶/v元素/gi3/nz与/cc弹出/vf序列/gi被/pbei遍历/gi的/ude1元素/gi3/nz相等/vi，/w所以/c弹出/vf数据栈/nz的/ude1栈顶/nz元素/gi3/nz；/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi2/nz，/w与/cc弹出/vf序列/gi被/pbei遍历/gi的/ude1元素/gi5/nz不/d相等/vi，/w则/d将/d被/pbei遍历/gi的/ude1压入/nz序列/gi元素/gi5/nz压入/nz到/v栈/gi中/f，/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi是/vshi5/nz；/w4/nz）/w因为/c数据/gi栈栈/nz顶/v元素/gi5/nz与/cc弹出/vf序列/gi被/pbei遍历/gi的/ude1元素/gi5/nz相等/vi，/w所以/c弹出/vf数据栈/nz的/ude1栈顶/nz元素/gi5/nz，/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi变成/v了/ule2/nz；/w5/nz）/w此时/r数据栈/nz的/ude1栈顶/nz元素/gi2/nz与/cc弹出/vf序列/gi被/pbei遍历/gi的/ude1元素/gi1/nz不/d相等/vi，/w但是/c压入/nz序列/gi中的/v元素/gi都/d已经/d被/pbei压入/nz到/v数据栈/nz了/ule。/w这时/rzt就/d陷入/v了/ule“/w无法/v压入/nz元素/gi，/w也/d无法/v弹出/vf元素/gi”/w的/ude1僵持/vi状态/gi，/w而/cc数据栈/nz也/d不为/c空/ng，/w所以/c可以/v认为/v弹出/vf序列/gi不/d合法/a。/w上面/f的/ude1步骤/gi看起来/v有些/rz繁琐/a，/w如果/c照着/p上面/f的/ude1步骤/gi画/v一个栈/nz实时/n模拟/gi压入/nz和/cc弹出/vf操作/gi，/w就/d能/v很好/ad的/ude1理解/gi算法/gi的/ude1执行/v流程/gi了/ule。/wac/nz代码/gi如下/vi：/w